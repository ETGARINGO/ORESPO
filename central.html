<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <base target="_self">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRO9 TACTICAL COMMAND</title>
    <style>
        :root {
            --police-red: #ff0000;
            --police-blue: #0044ff;
            --cyan: #38bdf8;
            --bg: #00050a;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background: var(--bg);
            color: white;
            font-family: 'Courier New', Courier, monospace;
            overflow: hidden;
        }

        /* --- POLICE FLUSHING EFFECT (STROBE) --- */
        .police-strobe {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            opacity: 0.15;
            animation: police-flash 0.8s infinite steps(2);
        }

        @keyframes police-flash {
            0% { background: var(--police-red); box-shadow: inset 0 0 100px var(--police-red); }
            50% { background: var(--police-blue); box-shadow: inset 0 0 100px var(--police-blue); }
        }

        /* --- THUNDER/LIGHTNING LAYER --- */
        #lightning-layer {
            position: fixed;
            inset: 0;
            background: #fff;
            opacity: 0;
            z-index: 100;
            pointer-events: none;
        }

        @keyframes thunder-strike {
            0%, 10%, 20% { opacity: 0; }
            11% { opacity: 0.4; }
            13% { opacity: 0.1; }
            15% { opacity: 0.7; }
        }

        /* --- CENTRAL HUD --- */
        #cover-page {
            position: relative;
            z-index: 10;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: radial-gradient(circle, rgba(0, 112, 255, 0.1) 0%, transparent 70%);
            transition: transform 1s cubic-bezier(0.9, 0, 0.1, 1), opacity 0.8s;
        }

        /* LOGO TACTICAL ANIMATION */
        .logo-trigger {
            position: relative;
            width: 280px;
            height: 280px;
            cursor: pointer;
            z-index: 10;
        }

        .logo-img {
            width: 100%; height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 0 15px var(--cyan));
            animation: glitch 4s infinite;
        }

        /* SCANNING RING */
        .scanner-ring {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 110%; height: 110%;
            border: 2px solid var(--cyan);
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s infinite linear;
        }

        @keyframes spin { to { transform: translate(-50%, -50%) rotate(360deg); } }
        
        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            1% { transform: translate(-5px, 2px); filter: hue-rotate(90deg); }
            2% { transform: translate(5px, -2px); filter: hue-rotate(180deg); }
            3% { transform: translate(0); }
        }

        /* --- TEXT STACK --- */
        .tactical-text {
            text-align: center;
            margin-top: 30px;
            text-shadow: 0 0 10px var(--cyan);
        }

        .status-bar {
            width: 300px;
            height: 4px;
            background: #111;
            margin-top: 15px;
            border: 1px solid #333;
            overflow: hidden;
        }

        .status-progress {
            width: 40%;
            height: 100%;
            background: var(--cyan);
            animation: pulse-load 2s infinite ease-in-out;
        }

        @keyframes pulse-load {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(300%); }
        }

        /* --- MAIN IFRAME (THE "NO EXIT" ZONE) --- */
        #app-frame {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            border: none;
            display: none;
            z-index: 200;
        }

        .hidden-ui {
            transform: translateY(-100vh);
            opacity: 0;
        }
    </style>
</head>
<body>

    <div class="police-strobe"></div>
    <div id="lightning-layer"></div>

    <div id="cover-page">
        <div class="logo-trigger" onclick="engageSystem()">
            <div class="scanner-ring"></div>
            <img src="KAPIT BISIG.png" class="logo-img" alt="SECURE ACCESS">
        </div>
        
        <div class="tactical-text">
            <h1 style="letter-spacing: 15px; margin:0;">PRO9 COMMAND</h1>
            <p style="color: var(--cyan); font-size: 12px; margin-top: 5px;">STATUS: AWAITING BIOMETRIC OVERRIDE</p>
            <div class="status-bar"><div class="status-progress"></div></div>
        </div>
    </div>

    <iframe id="app-frame" src=""></iframe>

    <script>
        // 1. Thunder Strobe Logic (Entrance Only)
        function startThunder() {
            const delay = Math.random() * 6000 + 4000;
            setTimeout(() => {
                const layer = document.getElementById('lightning-layer');
                layer.style.animation = 'none';
                void layer.offsetWidth;
                layer.style.animation = 'thunder-strike 0.5s ease-out';
                startThunder();
            }, delay);
        }
        startThunder();

        // 2. Engagement Logic (No Exit Transition)
        function engageSystem() {
            const cover = document.getElementById('cover-page');
            const frame = document.getElementById('app-frame');
            const strobe = document.querySelector('.police-strobe');
            const url = "https://script.google.com/macros/s/AKfycbzldubjPB1EejgcN4xXf7zPcwKxvgWrR8MuADiH_Vk5a4hLAwu0A-Ex4yp8dHPWBEQu/exec";

            // Stop animations for transition
            strobe.style.opacity = '0.05';
            
            // Execute "No Exit" slide
            cover.classList.add('hidden-ui');

            // Set frame source
            frame.src = url;

            setTimeout(() => {
                cover.style.display = 'none';
                frame.style.display = 'block';
                // Final Strobe adjustment to not distract from app
                strobe.style.zIndex = "201"; 
                strobe.style.opacity = "0.02"; 
            }, 1000);
        }
    </script>
</body>
</html>
